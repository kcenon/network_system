<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Network System: API Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Network System
   </div>
   <div id="projectbrief">High-performance modular networking library for scalable client-server applications</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">API Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md0"></a> Comprehensive API documentation for the Network System library.</p>
<h1><a class="anchor" id="autotoc_md1"></a>
Table of Contents</h1>
<ul>
<li>Overview</li>
<li>Core Classes</li>
<li>Networking Components</li>
<li>Protocol Handlers</li>
<li>Utility Classes</li>
<li>Error Handling</li>
<li>Configuration</li>
<li>Examples</li>
</ul>
<h1><a class="anchor" id="autotoc_md2"></a>
Overview</h1>
<p>The Network System provides a modular, high-performance networking library with support for multiple protocols and platforms.</p>
<h2><a class="anchor" id="autotoc_md3"></a>
Namespace Structure</h2>
<div class="fragment"><div class="line"><span class="keyword">namespace </span>network {</div>
<div class="line">    <span class="keyword">namespace </span>tcp { <span class="comment">/* TCP implementation */</span> }</div>
<div class="line">    <span class="keyword">namespace </span>udp { <span class="comment">/* UDP implementation */</span> }</div>
<div class="line">    <span class="keyword">namespace </span>http { <span class="comment">/* HTTP implementation */</span> }</div>
<div class="line">    <span class="keyword">namespace </span>websocket { <span class="comment">/* WebSocket implementation */</span> }</div>
<div class="line">    <span class="keyword">namespace </span>ssl { <span class="comment">/* SSL/TLS support */</span> }</div>
<div class="line">    <span class="keyword">namespace </span>utils { <span class="comment">/* Utility functions */</span> }</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md4"></a>
Header Files</h2>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;network/server.hpp&gt;</span>          <span class="comment">// Server classes</span></div>
<div class="line"><span class="preprocessor">#include &lt;network/client.hpp&gt;</span>          <span class="comment">// Client classes</span></div>
<div class="line"><span class="preprocessor">#include &lt;network/protocol.hpp&gt;</span>        <span class="comment">// Protocol interfaces</span></div>
<div class="line"><span class="preprocessor">#include &lt;network/message.hpp&gt;</span>         <span class="comment">// Message handling</span></div>
<div class="line"><span class="preprocessor">#include &lt;network/connection.hpp&gt;</span>      <span class="comment">// Connection management</span></div>
<div class="line"><span class="preprocessor">#include &lt;network/error.hpp&gt;</span>           <span class="comment">// Error handling</span></div>
<div class="line"><span class="preprocessor">#include &lt;network/config.hpp&gt;</span>          <span class="comment">// Configuration</span></div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md5"></a>
Core Classes</h1>
<h2><a class="anchor" id="autotoc_md6"></a>
NetworkServer</h2>
<p>Main server class for handling network connections.</p>
<div class="fragment"><div class="line"><span class="keyword">namespace </span>network {</div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span>NetworkServer {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keyword">explicit</span> NetworkServer(<span class="keyword">const</span> ServerConfig&amp; config);</div>
<div class="line"> </div>
<div class="line">    Result&lt;void&gt; start();</div>
<div class="line"> </div>
<div class="line">    Result&lt;void&gt; stop(std::chrono::seconds timeout = std::chrono::seconds(30));</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">void</span> set_message_handler(MessageHandler handler);</div>
<div class="line"> </div>
<div class="line">    ServerStats get_stats() <span class="keyword">const</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">size_t</span> broadcast(<span class="keyword">const</span> Message&amp; message);</div>
<div class="line"> </div>
<div class="line">    Result&lt;void&gt; send_to(ClientId client_id, <span class="keyword">const</span> Message&amp; message);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">void</span> disconnect_client(ClientId client_id, <span class="keyword">const</span> std::string&amp; reason = <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    std::optional&lt;ClientInfo&gt; get_client_info(ClientId client_id) <span class="keyword">const</span>;</div>
<div class="line"> </div>
<div class="line">    std::vector&lt;ClientId&gt; get_connected_clients() <span class="keyword">const</span>;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line">} <span class="comment">// namespace network</span></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md7"></a>
NetworkClient</h2>
<p>Client class for connecting to network servers.</p>
<div class="fragment"><div class="line"><span class="keyword">namespace </span>network {</div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span>NetworkClient {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keyword">explicit</span> NetworkClient(<span class="keyword">const</span> ClientConfig&amp; config);</div>
<div class="line"> </div>
<div class="line">    Result&lt;void&gt; connect(<span class="keyword">const</span> std::string&amp; host, uint16_t port,</div>
<div class="line">                        std::chrono::seconds timeout = std::chrono::seconds(10));</div>
<div class="line"> </div>
<div class="line">    Result&lt;void&gt; disconnect();</div>
<div class="line"> </div>
<div class="line">    Result&lt;void&gt; send(<span class="keyword">const</span> Message&amp; message);</div>
<div class="line"> </div>
<div class="line">    Result&lt;Message&gt; receive(std::optional&lt;std::chrono::milliseconds&gt; timeout = std::nullopt);</div>
<div class="line"> </div>
<div class="line">    Result&lt;Message&gt; request(<span class="keyword">const</span> Message&amp; request,</div>
<div class="line">                           std::chrono::seconds timeout = std::chrono::seconds(30));</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">bool</span> is_connected() <span class="keyword">const</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">void</span> set_message_handler(MessageHandler handler);</div>
<div class="line"> </div>
<div class="line">    ConnectionStats get_stats() <span class="keyword">const</span>;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line">} <span class="comment">// namespace network</span></div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md8"></a>
Networking Components</h1>
<h2><a class="anchor" id="autotoc_md9"></a>
Connection</h2>
<p>Represents a single network connection.</p>
<div class="fragment"><div class="line"><span class="keyword">namespace </span>network {</div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span>Connection {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keyword">using </span>Id = uint64_t;</div>
<div class="line"> </div>
<div class="line">    Id get_id() <span class="keyword">const</span>;</div>
<div class="line"> </div>
<div class="line">    Endpoint get_remote_endpoint() <span class="keyword">const</span>;</div>
<div class="line"> </div>
<div class="line">    Endpoint get_local_endpoint() <span class="keyword">const</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">bool</span> is_active() <span class="keyword">const</span>;</div>
<div class="line"> </div>
<div class="line">    Result&lt;size_t&gt; send(<span class="keyword">const</span> uint8_t* data, <span class="keywordtype">size_t</span> size);</div>
<div class="line"> </div>
<div class="line">    Result&lt;size_t&gt; receive(uint8_t* buffer, <span class="keywordtype">size_t</span> size,</div>
<div class="line">                          std::optional&lt;std::chrono::milliseconds&gt; timeout = std::nullopt);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">void</span> close();</div>
<div class="line"> </div>
<div class="line">    Result&lt;void&gt; set_no_delay(<span class="keywordtype">bool</span> enable);</div>
<div class="line"> </div>
<div class="line">    Result&lt;void&gt; set_keep_alive(<span class="keywordtype">bool</span> enable,</div>
<div class="line">                                std::chrono::seconds idle = std::chrono::seconds(60),</div>
<div class="line">                                std::chrono::seconds interval = std::chrono::seconds(10),</div>
<div class="line">                                <span class="keywordtype">int</span> count = 6);</div>
<div class="line"> </div>
<div class="line">    ConnectionStats get_stats() <span class="keyword">const</span>;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line">} <span class="comment">// namespace network</span></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md10"></a>
ConnectionPool</h2>
<p>Manages a pool of reusable connections.</p>
<div class="fragment"><div class="line"><span class="keyword">namespace </span>network {</div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span>ConnectionPool {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keyword">struct </span>Config {</div>
<div class="line">        <span class="keywordtype">size_t</span> min_connections = 5;</div>
<div class="line">        <span class="keywordtype">size_t</span> max_connections = 50;</div>
<div class="line">        std::chrono::seconds idle_timeout = std::chrono::seconds(60);</div>
<div class="line">        std::chrono::seconds connection_timeout = std::chrono::seconds(10);</div>
<div class="line">        <span class="keywordtype">bool</span> validate_on_checkout = <span class="keyword">true</span>;</div>
<div class="line">    };</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">explicit</span> ConnectionPool(<span class="keyword">const</span> Config&amp; config);</div>
<div class="line"> </div>
<div class="line">    Result&lt;std::shared_ptr&lt;Connection&gt;&gt; acquire(<span class="keyword">const</span> Endpoint&amp; endpoint);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">void</span> release(std::shared_ptr&lt;Connection&gt; connection);</div>
<div class="line"> </div>
<div class="line">    PoolStats get_stats() <span class="keyword">const</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">void</span> clear_idle();</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">size_t</span> validate_all();</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line">} <span class="comment">// namespace network</span></div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md11"></a>
Protocol Handlers</h1>
<h2><a class="anchor" id="autotoc_md12"></a>
HTTP Handler</h2>
<p>HTTP protocol implementation.</p>
<div class="fragment"><div class="line"><span class="keyword">namespace </span>network::http {</div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span>HttpServer {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keyword">using </span>RequestHandler = std::function&lt;Response(<span class="keyword">const</span> Request&amp;)&gt;;</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">explicit</span> HttpServer(<span class="keyword">const</span> HttpConfig&amp; config);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">void</span> route(<span class="keyword">const</span> std::string&amp; method, <span class="keyword">const</span> std::string&amp; path,</div>
<div class="line">              RequestHandler handler);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">void</span> use(MiddlewareFunc middleware);</div>
<div class="line"> </div>
<div class="line">    Result&lt;void&gt; start();</div>
<div class="line"> </div>
<div class="line">    Result&lt;void&gt; stop();</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span>Request {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    std::string get_method() <span class="keyword">const</span>;</div>
<div class="line"> </div>
<div class="line">    std::string get_uri() <span class="keyword">const</span>;</div>
<div class="line"> </div>
<div class="line">    std::optional&lt;std::string&gt; get_header(<span class="keyword">const</span> std::string&amp; name) <span class="keyword">const</span>;</div>
<div class="line"> </div>
<div class="line">    std::unordered_map&lt;std::string, std::string&gt; get_headers() <span class="keyword">const</span>;</div>
<div class="line"> </div>
<div class="line">    std::string get_body() <span class="keyword">const</span>;</div>
<div class="line"> </div>
<div class="line">    std::optional&lt;std::string&gt; get_query_param(<span class="keyword">const</span> std::string&amp; name) <span class="keyword">const</span>;</div>
<div class="line"> </div>
<div class="line">    std::unordered_map&lt;std::string, std::string&gt; get_query_params() <span class="keyword">const</span>;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span>Response {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    Response&amp; status(<span class="keywordtype">int</span> code);</div>
<div class="line"> </div>
<div class="line">    Response&amp; header(<span class="keyword">const</span> std::string&amp; name, <span class="keyword">const</span> std::string&amp; value);</div>
<div class="line"> </div>
<div class="line">    Response&amp; body(<span class="keyword">const</span> std::string&amp; body);</div>
<div class="line"> </div>
<div class="line">    Response&amp; json(<span class="keyword">const</span> nlohmann::json&amp; json);</div>
<div class="line"> </div>
<div class="line">    Response&amp; send_file(<span class="keyword">const</span> std::string&amp; file_path);</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line">} <span class="comment">// namespace network::http</span></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md13"></a>
WebSocket Handler</h2>
<p>WebSocket protocol implementation.</p>
<div class="fragment"><div class="line"><span class="keyword">namespace </span>network::websocket {</div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span>WebSocketServer {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keyword">using </span>ConnectionHandler = std::function&lt;void(WebSocketConnection&amp;)&gt;;</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">explicit</span> WebSocketServer(<span class="keyword">const</span> WebSocketConfig&amp; config);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">void</span> on_connection(ConnectionHandler handler);</div>
<div class="line"> </div>
<div class="line">    Result&lt;void&gt; start();</div>
<div class="line"> </div>
<div class="line">    Result&lt;void&gt; stop();</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">void</span> broadcast(<span class="keyword">const</span> std::string&amp; message);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">void</span> broadcast_binary(<span class="keyword">const</span> uint8_t* data, <span class="keywordtype">size_t</span> size);</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span>WebSocketConnection {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    Result&lt;void&gt; send(<span class="keyword">const</span> std::string&amp; message);</div>
<div class="line"> </div>
<div class="line">    Result&lt;void&gt; send_binary(<span class="keyword">const</span> uint8_t* data, <span class="keywordtype">size_t</span> size);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">void</span> on_message(std::function&lt;<span class="keywordtype">void</span>(<span class="keyword">const</span> std::string&amp;)&gt; handler);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">void</span> on_binary(std::function&lt;<span class="keywordtype">void</span>(<span class="keyword">const</span> uint8_t*, <span class="keywordtype">size_t</span>)&gt; handler);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">void</span> on_close(std::function&lt;<span class="keywordtype">void</span>(<span class="keywordtype">int</span> code, <span class="keyword">const</span> std::string&amp; reason)&gt; handler);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">void</span> close(<span class="keywordtype">int</span> code = 1000, <span class="keyword">const</span> std::string&amp; reason = <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    ConnectionInfo get_info() <span class="keyword">const</span>;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line">} <span class="comment">// namespace network::websocket</span></div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md14"></a>
Utility Classes</h1>
<h2><a class="anchor" id="autotoc_md15"></a>
Message</h2>
<p>Message container for network communication.</p>
<div class="fragment"><div class="line"><span class="keyword">namespace </span>network {</div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span>Message {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keyword">enum class</span> Type {</div>
<div class="line">        REQUEST,</div>
<div class="line">        RESPONSE,</div>
<div class="line">        NOTIFICATION,</div>
<div class="line">        ERROR</div>
<div class="line">    };</div>
<div class="line"> </div>
<div class="line">    Message();</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">explicit</span> Message(<span class="keyword">const</span> std::string&amp; data);</div>
<div class="line"> </div>
<div class="line">    Message(<span class="keyword">const</span> uint8_t* data, <span class="keywordtype">size_t</span> size);</div>
<div class="line"> </div>
<div class="line">    uint64_t get_id() <span class="keyword">const</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">void</span> set_id(uint64_t <span class="keywordtype">id</span>);</div>
<div class="line"> </div>
<div class="line">    Type get_type() <span class="keyword">const</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">void</span> set_type(Type type);</div>
<div class="line"> </div>
<div class="line">    std::string get_data() <span class="keyword">const</span>;</div>
<div class="line"> </div>
<div class="line">    std::pair&lt;const uint8_t*, size_t&gt; get_binary_data() <span class="keyword">const</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">void</span> set_header(<span class="keyword">const</span> std::string&amp; key, <span class="keyword">const</span> std::string&amp; value);</div>
<div class="line"> </div>
<div class="line">    std::optional&lt;std::string&gt; get_header(<span class="keyword">const</span> std::string&amp; key) <span class="keyword">const</span>;</div>
<div class="line"> </div>
<div class="line">    std::vector&lt;uint8_t&gt; serialize() <span class="keyword">const</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">static</span> Result&lt;Message&gt; deserialize(<span class="keyword">const</span> uint8_t* data, <span class="keywordtype">size_t</span> size);</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line">} <span class="comment">// namespace network</span></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md16"></a>
Buffer</h2>
<p>Efficient buffer management for network I/O.</p>
<div class="fragment"><div class="line"><span class="keyword">namespace </span>network {</div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span>Buffer {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keyword">explicit</span> Buffer(<span class="keywordtype">size_t</span> capacity = 4096);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">size_t</span> write(<span class="keyword">const</span> uint8_t* data, <span class="keywordtype">size_t</span> size);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">size_t</span> read(uint8_t* data, <span class="keywordtype">size_t</span> size);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">size_t</span> peek(uint8_t* data, <span class="keywordtype">size_t</span> size) <span class="keyword">const</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">void</span> discard(<span class="keywordtype">size_t</span> size);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">size_t</span> readable_bytes() <span class="keyword">const</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">size_t</span> writable_bytes() <span class="keyword">const</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">void</span> clear();</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">void</span> reserve(<span class="keywordtype">size_t</span> capacity);</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line">} <span class="comment">// namespace network</span></div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md17"></a>
Error Handling</h1>
<h2><a class="anchor" id="autotoc_md18"></a>
Error Types</h2>
<div class="fragment"><div class="line"><span class="keyword">namespace </span>network {</div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span>NetworkException : <span class="keyword">public</span> std::runtime_error {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keyword">explicit</span> NetworkException(<span class="keyword">const</span> std::string&amp; message);</div>
<div class="line">    <span class="keyword">virtual</span> ErrorCode get_error_code() <span class="keyword">const</span> = 0;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span>ConnectionException : <span class="keyword">public</span> NetworkException {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    ConnectionException(<span class="keyword">const</span> std::string&amp; message, ErrorCode code);</div>
<div class="line">    ErrorCode get_error_code() <span class="keyword">const override</span>;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span>ProtocolException : <span class="keyword">public</span> NetworkException {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    ProtocolException(<span class="keyword">const</span> std::string&amp; message, ErrorCode code);</div>
<div class="line">    ErrorCode get_error_code() <span class="keyword">const override</span>;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span>TimeoutException : <span class="keyword">public</span> NetworkException {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keyword">explicit</span> TimeoutException(<span class="keyword">const</span> std::string&amp; message);</div>
<div class="line">    ErrorCode get_error_code() <span class="keyword">const override</span>;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line">} <span class="comment">// namespace network</span></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md19"></a>
Result Type</h2>
<div class="fragment"><div class="line"><span class="keyword">namespace </span>network {</div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><span class="keyword">class </span>Result {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keyword">static</span> Result success(T value);</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">static</span> Result error(Error error);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">bool</span> is_success() <span class="keyword">const</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">bool</span> is_error() <span class="keyword">const</span>;</div>
<div class="line"> </div>
<div class="line">    T&amp; value();</div>
<div class="line">    <span class="keyword">const</span> T&amp; value() <span class="keyword">const</span>;</div>
<div class="line"> </div>
<div class="line">    Error&amp; error();</div>
<div class="line">    <span class="keyword">const</span> Error&amp; error() <span class="keyword">const</span>;</div>
<div class="line"> </div>
<div class="line">    T value_or(T default_value) <span class="keyword">const</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">template</span>&lt;<span class="keyword">typename</span> U&gt;</div>
<div class="line">    Result&lt;U&gt; map(std::function&lt;U(<span class="keyword">const</span> T&amp;)&gt; func) <span class="keyword">const</span>;</div>
<div class="line"> </div>
<div class="line">    Result&lt;T&gt; map_error(std::function&lt;Error(<span class="keyword">const</span> Error&amp;)&gt; func) <span class="keyword">const</span>;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Specialization for void</span></div>
<div class="line"><span class="keyword">template</span>&lt;&gt;</div>
<div class="line"><span class="keyword">class </span>Result&lt;void&gt; {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keyword">static</span> Result success();</div>
<div class="line">    <span class="keyword">static</span> Result error(Error error);</div>
<div class="line">    <span class="keywordtype">bool</span> is_success() <span class="keyword">const</span>;</div>
<div class="line">    <span class="keywordtype">bool</span> is_error() <span class="keyword">const</span>;</div>
<div class="line">    <span class="keywordtype">void</span> value() <span class="keyword">const</span>;  <span class="comment">// Throws if error</span></div>
<div class="line">    <span class="keyword">const</span> Error&amp; error() <span class="keyword">const</span>;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line">} <span class="comment">// namespace network</span></div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md20"></a>
Configuration</h1>
<h2><a class="anchor" id="autotoc_md21"></a>
Server Configuration</h2>
<div class="fragment"><div class="line"><span class="keyword">namespace </span>network {</div>
<div class="line"> </div>
<div class="line"><span class="keyword">struct </span>ServerConfig {</div>
<div class="line">    <span class="comment">// Network settings</span></div>
<div class="line">    std::string bind_address = <span class="stringliteral">&quot;0.0.0.0&quot;</span>;</div>
<div class="line">    uint16_t port = 8080;</div>
<div class="line">    <span class="keywordtype">int</span> backlog = 128;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Connection settings</span></div>
<div class="line">    <span class="keywordtype">size_t</span> max_connections = 1000;</div>
<div class="line">    std::chrono::seconds connection_timeout{30};</div>
<div class="line">    std::chrono::seconds keep_alive_timeout{60};</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Thread pool settings</span></div>
<div class="line">    <span class="keywordtype">size_t</span> worker_threads = std::thread::hardware_concurrency();</div>
<div class="line">    <span class="keywordtype">size_t</span> io_threads = 2;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Buffer settings</span></div>
<div class="line">    <span class="keywordtype">size_t</span> receive_buffer_size = 65536;</div>
<div class="line">    <span class="keywordtype">size_t</span> send_buffer_size = 65536;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// SSL settings</span></div>
<div class="line">    <span class="keywordtype">bool</span> ssl_enabled = <span class="keyword">false</span>;</div>
<div class="line">    std::string cert_file;</div>
<div class="line">    std::string key_file;</div>
<div class="line">    std::string ca_file;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Protocol settings</span></div>
<div class="line">    std::vector&lt;std::string&gt; supported_protocols;</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">static</span> Result&lt;ServerConfig&gt; from_file(<span class="keyword">const</span> std::string&amp; file_path);</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">static</span> Result&lt;ServerConfig&gt; from_json(<span class="keyword">const</span> nlohmann::json&amp; json);</div>
<div class="line"> </div>
<div class="line">    Result&lt;void&gt; validate() <span class="keyword">const</span>;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line">} <span class="comment">// namespace network</span></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md22"></a>
Client Configuration</h2>
<div class="fragment"><div class="line"><span class="keyword">namespace </span>network {</div>
<div class="line"> </div>
<div class="line"><span class="keyword">struct </span>ClientConfig {</div>
<div class="line">    <span class="comment">// Connection settings</span></div>
<div class="line">    std::chrono::seconds connect_timeout{10};</div>
<div class="line">    std::chrono::seconds read_timeout{30};</div>
<div class="line">    std::chrono::seconds write_timeout{30};</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Retry settings</span></div>
<div class="line">    <span class="keywordtype">int</span> max_retries = 3;</div>
<div class="line">    std::chrono::milliseconds retry_delay{1000};</div>
<div class="line">    <span class="keywordtype">bool</span> exponential_backoff = <span class="keyword">true</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Buffer settings</span></div>
<div class="line">    <span class="keywordtype">size_t</span> receive_buffer_size = 65536;</div>
<div class="line">    <span class="keywordtype">size_t</span> send_buffer_size = 65536;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// SSL settings</span></div>
<div class="line">    <span class="keywordtype">bool</span> ssl_enabled = <span class="keyword">false</span>;</div>
<div class="line">    <span class="keywordtype">bool</span> verify_peer = <span class="keyword">true</span>;</div>
<div class="line">    std::string ca_file;</div>
<div class="line">    std::string cert_file;</div>
<div class="line">    std::string key_file;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Keep-alive settings</span></div>
<div class="line">    <span class="keywordtype">bool</span> keep_alive_enabled = <span class="keyword">true</span>;</div>
<div class="line">    std::chrono::seconds keep_alive_interval{30};</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">static</span> ClientConfig default_config();</div>
<div class="line"> </div>
<div class="line">    Result&lt;void&gt; validate() <span class="keyword">const</span>;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line">} <span class="comment">// namespace network</span></div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md23"></a>
Examples</h1>
<h2><a class="anchor" id="autotoc_md24"></a>
Basic TCP Server</h2>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;network/server.hpp&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main() {</div>
<div class="line">    <span class="comment">// Create server configuration</span></div>
<div class="line">    network::ServerConfig config;</div>
<div class="line">    config.port = 8080;</div>
<div class="line">    config.max_connections = 100;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Create and configure server</span></div>
<div class="line">    network::NetworkServer server(config);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Set message handler</span></div>
<div class="line">    server.set_message_handler([](<span class="keyword">const</span> network::Message&amp; msg,</div>
<div class="line">                                  network::Connection&amp; conn) {</div>
<div class="line">        std::cout &lt;&lt; <span class="stringliteral">&quot;Received: &quot;</span> &lt;&lt; msg.get_data() &lt;&lt; std::endl;</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Echo the message back</span></div>
<div class="line">        network::Message response(<span class="stringliteral">&quot;Echo: &quot;</span> + msg.get_data());</div>
<div class="line">        conn.send(response.serialize().data(), response.serialize().size());</div>
<div class="line">    });</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Start server</span></div>
<div class="line">    <span class="keyword">auto</span> result = server.start();</div>
<div class="line">    <span class="keywordflow">if</span> (!result.is_success()) {</div>
<div class="line">        std::cerr &lt;&lt; <span class="stringliteral">&quot;Failed to start server: &quot;</span></div>
<div class="line">                  &lt;&lt; result.error().message &lt;&lt; std::endl;</div>
<div class="line">        <span class="keywordflow">return</span> 1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Server listening on port 8080&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Run until interrupted</span></div>
<div class="line">    std::signal(SIGINT, [](<span class="keywordtype">int</span>) {</div>
<div class="line">        std::cout &lt;&lt; <span class="stringliteral">&quot;Shutting down...&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">    });</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Wait for shutdown</span></div>
<div class="line">    server.wait();</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md25"></a>
Basic TCP Client</h2>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;network/client.hpp&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main() {</div>
<div class="line">    <span class="comment">// Create client configuration</span></div>
<div class="line">    network::ClientConfig config;</div>
<div class="line">    config.connect_timeout = std::chrono::seconds(5);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Create client</span></div>
<div class="line">    network::NetworkClient client(config);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Connect to server</span></div>
<div class="line">    <span class="keyword">auto</span> result = client.connect(<span class="stringliteral">&quot;localhost&quot;</span>, 8080);</div>
<div class="line">    <span class="keywordflow">if</span> (!result.is_success()) {</div>
<div class="line">        std::cerr &lt;&lt; <span class="stringliteral">&quot;Failed to connect: &quot;</span></div>
<div class="line">                  &lt;&lt; result.error().message &lt;&lt; std::endl;</div>
<div class="line">        <span class="keywordflow">return</span> 1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Send message</span></div>
<div class="line">    network::Message message(<span class="stringliteral">&quot;Hello, Server!&quot;</span>);</div>
<div class="line">    result = client.send(message);</div>
<div class="line">    <span class="keywordflow">if</span> (!result.is_success()) {</div>
<div class="line">        std::cerr &lt;&lt; <span class="stringliteral">&quot;Failed to send: &quot;</span></div>
<div class="line">                  &lt;&lt; result.error().message &lt;&lt; std::endl;</div>
<div class="line">        <span class="keywordflow">return</span> 1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Receive response</span></div>
<div class="line">    <span class="keyword">auto</span> response = client.receive(std::chrono::seconds(5));</div>
<div class="line">    <span class="keywordflow">if</span> (response.is_success()) {</div>
<div class="line">        std::cout &lt;&lt; <span class="stringliteral">&quot;Received: &quot;</span> &lt;&lt; response.value().get_data() &lt;&lt; std::endl;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Disconnect</span></div>
<div class="line">    client.disconnect();</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md26"></a>
HTTP Server Example</h2>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;network/http/server.hpp&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main() {</div>
<div class="line">    network::http::HttpConfig config;</div>
<div class="line">    config.port = 8080;</div>
<div class="line"> </div>
<div class="line">    network::http::HttpServer server(config);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Add routes</span></div>
<div class="line">    server.route(<span class="stringliteral">&quot;GET&quot;</span>, <span class="stringliteral">&quot;/&quot;</span>, [](<span class="keyword">const</span> <span class="keyword">auto</span>&amp; req) {</div>
<div class="line">        <span class="keywordflow">return</span> network::http::Response()</div>
<div class="line">            .status(200)</div>
<div class="line">            .header(<span class="stringliteral">&quot;Content-Type&quot;</span>, <span class="stringliteral">&quot;text/html&quot;</span>)</div>
<div class="line">            .body(<span class="stringliteral">&quot;&lt;h1&gt;Hello, World!&lt;/h1&gt;&quot;</span>);</div>
<div class="line">    });</div>
<div class="line"> </div>
<div class="line">    server.route(<span class="stringliteral">&quot;GET&quot;</span>, <span class="stringliteral">&quot;/api/users&quot;</span>, [](<span class="keyword">const</span> <span class="keyword">auto</span>&amp; req) {</div>
<div class="line">        nlohmann::json users = {</div>
<div class="line">            {<span class="stringliteral">&quot;users&quot;</span>, {</div>
<div class="line">                {{<span class="stringliteral">&quot;id&quot;</span>, 1}, {<span class="stringliteral">&quot;name&quot;</span>, <span class="stringliteral">&quot;Alice&quot;</span>}},</div>
<div class="line">                {{<span class="stringliteral">&quot;id&quot;</span>, 2}, {<span class="stringliteral">&quot;name&quot;</span>, <span class="stringliteral">&quot;Bob&quot;</span>}}</div>
<div class="line">            }}</div>
<div class="line">        };</div>
<div class="line">        <span class="keywordflow">return</span> network::http::Response()</div>
<div class="line">            .status(200)</div>
<div class="line">            .json(users);</div>
<div class="line">    });</div>
<div class="line"> </div>
<div class="line">    server.route(<span class="stringliteral">&quot;POST&quot;</span>, <span class="stringliteral">&quot;/api/users&quot;</span>, [](<span class="keyword">const</span> <span class="keyword">auto</span>&amp; req) {</div>
<div class="line">        <span class="keyword">auto</span> body = nlohmann::json::parse(req.get_body());</div>
<div class="line">        <span class="comment">// Process user creation</span></div>
<div class="line">        <span class="keywordflow">return</span> network::http::Response()</div>
<div class="line">            .status(201)</div>
<div class="line">            .json({{<span class="stringliteral">&quot;id&quot;</span>, 3}, {<span class="stringliteral">&quot;name&quot;</span>, body[<span class="stringliteral">&quot;name&quot;</span>]}});</div>
<div class="line">    });</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Add middleware</span></div>
<div class="line">    server.use([](<span class="keyword">const</span> <span class="keyword">auto</span>&amp; req, <span class="keyword">auto</span>&amp; res, <span class="keyword">auto</span> next) {</div>
<div class="line">        std::cout &lt;&lt; req.get_method() &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; req.get_uri() &lt;&lt; std::endl;</div>
<div class="line">        next();</div>
<div class="line">    });</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Start server</span></div>
<div class="line">    server.start();</div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;HTTP server listening on port 8080&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Wait for shutdown</span></div>
<div class="line">    std::signal(SIGINT, [](<span class="keywordtype">int</span>) { <span class="comment">/* shutdown */</span> });</div>
<div class="line">    server.wait();</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md27"></a>
WebSocket Server Example</h2>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;network/websocket/server.hpp&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main() {</div>
<div class="line">    network::websocket::WebSocketConfig config;</div>
<div class="line">    config.port = 8080;</div>
<div class="line"> </div>
<div class="line">    network::websocket::WebSocketServer server(config);</div>
<div class="line"> </div>
<div class="line">    server.on_connection([&amp;](<span class="keyword">auto</span>&amp; conn) {</div>
<div class="line">        std::cout &lt;&lt; <span class="stringliteral">&quot;Client connected: &quot;</span> &lt;&lt; conn.get_info().<span class="keywordtype">id</span> &lt;&lt; std::endl;</div>
<div class="line"> </div>
<div class="line">        conn.on_message([&amp;](<span class="keyword">const</span> std::string&amp; msg) {</div>
<div class="line">            std::cout &lt;&lt; <span class="stringliteral">&quot;Received: &quot;</span> &lt;&lt; msg &lt;&lt; std::endl;</div>
<div class="line"> </div>
<div class="line">            <span class="comment">// Echo to all clients</span></div>
<div class="line">            server.broadcast(<span class="stringliteral">&quot;Echo: &quot;</span> + msg);</div>
<div class="line">        });</div>
<div class="line"> </div>
<div class="line">        conn.on_close([](<span class="keywordtype">int</span> code, <span class="keyword">const</span> std::string&amp; reason) {</div>
<div class="line">            std::cout &lt;&lt; <span class="stringliteral">&quot;Client disconnected: &quot;</span> &lt;&lt; code</div>
<div class="line">                      &lt;&lt; <span class="stringliteral">&quot; - &quot;</span> &lt;&lt; reason &lt;&lt; std::endl;</div>
<div class="line">        });</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Send welcome message</span></div>
<div class="line">        conn.send(<span class="stringliteral">&quot;Welcome to WebSocket server!&quot;</span>);</div>
<div class="line">    });</div>
<div class="line"> </div>
<div class="line">    server.start();</div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;WebSocket server listening on port 8080&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Wait for shutdown</span></div>
<div class="line">    std::signal(SIGINT, [](<span class="keywordtype">int</span>) { <span class="comment">/* shutdown */</span> });</div>
<div class="line">    server.wait();</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md28"></a>
SSL/TLS Example</h2>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;network/server.hpp&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;network/ssl/context.hpp&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main() {</div>
<div class="line">    <span class="comment">// Configure SSL</span></div>
<div class="line">    network::ServerConfig config;</div>
<div class="line">    config.port = 8443;</div>
<div class="line">    config.ssl_enabled = <span class="keyword">true</span>;</div>
<div class="line">    config.cert_file = <span class="stringliteral">&quot;/path/to/server.crt&quot;</span>;</div>
<div class="line">    config.key_file = <span class="stringliteral">&quot;/path/to/server.key&quot;</span>;</div>
<div class="line">    config.ca_file = <span class="stringliteral">&quot;/path/to/ca.crt&quot;</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Create SSL server</span></div>
<div class="line">    network::NetworkServer server(config);</div>
<div class="line"> </div>
<div class="line">    server.set_message_handler([](<span class="keyword">const</span> <span class="keyword">auto</span>&amp; msg, <span class="keyword">auto</span>&amp; conn) {</div>
<div class="line">        <span class="comment">// Handle secure message</span></div>
<div class="line">        std::cout &lt;&lt; <span class="stringliteral">&quot;Secure message: &quot;</span> &lt;&lt; msg.get_data() &lt;&lt; std::endl;</div>
<div class="line">    });</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">auto</span> result = server.start();</div>
<div class="line">    <span class="keywordflow">if</span> (!result.is_success()) {</div>
<div class="line">        std::cerr &lt;&lt; <span class="stringliteral">&quot;Failed to start SSL server: &quot;</span></div>
<div class="line">                  &lt;&lt; result.error().message &lt;&lt; std::endl;</div>
<div class="line">        <span class="keywordflow">return</span> 1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;SSL server listening on port 8443&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">    server.wait();</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md29"></a>
Async Client Example</h2>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;network/async/client.hpp&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main() {</div>
<div class="line">    network::async::AsyncClient client;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Connect asynchronously</span></div>
<div class="line">    client.connect_async(<span class="stringliteral">&quot;localhost&quot;</span>, 8080)</div>
<div class="line">        .then([&amp;](<span class="keyword">auto</span> result) {</div>
<div class="line">            <span class="keywordflow">if</span> (!result.is_success()) {</div>
<div class="line">                std::cerr &lt;&lt; <span class="stringliteral">&quot;Connection failed&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">                return;</div>
<div class="line">            }</div>
<div class="line"> </div>
<div class="line">            <span class="comment">// Send message asynchronously</span></div>
<div class="line">            network::Message msg(<span class="stringliteral">&quot;Hello, Async!&quot;</span>);</div>
<div class="line">            <span class="keywordflow">return</span> client.send_async(msg);</div>
<div class="line">        })</div>
<div class="line">        .then([&amp;](<span class="keyword">auto</span> result) {</div>
<div class="line">            <span class="keywordflow">if</span> (!result.is_success()) {</div>
<div class="line">                std::cerr &lt;&lt; <span class="stringliteral">&quot;Send failed&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">                return;</div>
<div class="line">            }</div>
<div class="line"> </div>
<div class="line">            <span class="comment">// Receive response asynchronously</span></div>
<div class="line">            <span class="keywordflow">return</span> client.receive_async();</div>
<div class="line">        })</div>
<div class="line">        .then([](<span class="keyword">auto</span> result) {</div>
<div class="line">            <span class="keywordflow">if</span> (result.is_success()) {</div>
<div class="line">                std::cout &lt;&lt; <span class="stringliteral">&quot;Response: &quot;</span></div>
<div class="line">                          &lt;&lt; result.value().get_data() &lt;&lt; std::endl;</div>
<div class="line">            }</div>
<div class="line">        });</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Run event loop</span></div>
<div class="line">    client.run();</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md30"></a>
Thread Safety</h1>
<p>All public methods in the Network System library are thread-safe unless explicitly documented otherwise. The following guarantees are provided:</p>
<ol type="1">
<li><b>Server Classes</b>: Multiple threads can safely call methods on the same server instance</li>
<li><b>Client Classes</b>: Send and receive operations are thread-safe</li>
<li><b>Connection Classes</b>: Individual connections are thread-safe for concurrent operations</li>
<li><b>Message Classes</b>: Message objects are immutable after construction</li>
<li><b>Buffer Classes</b>: Not thread-safe; use separate instances per thread or add external synchronization</li>
</ol>
<h1><a class="anchor" id="autotoc_md31"></a>
Performance Considerations</h1>
<h2><a class="anchor" id="autotoc_md32"></a>
Zero-Copy Operations</h2>
<p>The library supports zero-copy operations where possible:</p>
<div class="fragment"><div class="line"><span class="comment">// Zero-copy send using memory-mapped file</span></div>
<div class="line">network::ZeroCopyFile file(<span class="stringliteral">&quot;/path/to/large/file&quot;</span>);</div>
<div class="line">connection.send_file(file);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Zero-copy receive into pre-allocated buffer</span></div>
<div class="line">network::Buffer buffer(1024 * 1024);  <span class="comment">// 1MB buffer</span></div>
<div class="line">connection.receive_zero_copy(buffer);</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md33"></a>
Memory Pooling</h2>
<p>Use memory pools for frequently allocated objects:</p>
<div class="fragment"><div class="line"><span class="comment">// Configure memory pools</span></div>
<div class="line">network::MemoryPoolConfig pool_config;</div>
<div class="line">pool_config.message_pool_size = 1000;</div>
<div class="line">pool_config.buffer_pool_size = 100;</div>
<div class="line">pool_config.connection_pool_size = 50;</div>
<div class="line"> </div>
<div class="line">network::NetworkServer server(config, pool_config);</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md34"></a>
Batch Operations</h2>
<p>Batch multiple operations for better performance:</p>
<div class="fragment"><div class="line"><span class="comment">// Batch send multiple messages</span></div>
<div class="line">std::vector&lt;network::Message&gt; messages;</div>
<div class="line"><span class="comment">// ... populate messages</span></div>
<div class="line">connection.send_batch(messages);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Batch receive</span></div>
<div class="line"><span class="keyword">auto</span> messages = connection.receive_batch(max_messages, timeout);</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md35"></a>
Platform-Specific Notes</h1>
<h2><a class="anchor" id="autotoc_md36"></a>
Linux</h2>
<ul>
<li>Uses epoll for I/O multiplexing</li>
<li>Supports SO_REUSEPORT for load balancing</li>
<li>Kernel bypass with io_uring (optional)</li>
</ul>
<h2><a class="anchor" id="autotoc_md37"></a>
Windows</h2>
<ul>
<li>Uses IOCP for I/O multiplexing</li>
<li>Requires Windows 10 or Windows Server 2016+</li>
<li>Visual Studio 2019 or later recommended</li>
</ul>
<h2><a class="anchor" id="autotoc_md38"></a>
macOS</h2>
<ul>
<li>Uses kqueue for I/O multiplexing</li>
<li>Requires macOS 10.14 or later</li>
<li>Xcode 11 or later recommended</li>
</ul>
<h1><a class="anchor" id="autotoc_md39"></a>
Version History</h1>
<p>See <a class="el" href="md_CHANGELOG.html">CHANGELOG.md</a> for detailed version history.</p>
<h1><a class="anchor" id="autotoc_md40"></a>
License</h1>
<p>This library is licensed under the MIT License. See LICENSE file for details. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
