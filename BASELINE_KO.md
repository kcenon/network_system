# Network System - ì„±ëŠ¥ ê¸°ì¤€ ë©”íŠ¸ë¦­

[English](BASELINE.md) | **í•œêµ­ì–´**

**ë²„ì „**: 1.0.0
**ìµœì¢… ì—…ë°ì´íŠ¸**: 2025-10-09
**ë‹¨ê³„**: Phase 0 - Foundation
**ìƒíƒœ**: âœ… ì¸¡ì • ë° ê²€ì¦ ì™„ë£Œ

---

## ğŸ“‹ ê°œìš”

ì´ ë¬¸ì„œëŠ” network_systemì— ëŒ€í•œ **ê²€ì¦ëœ ì„±ëŠ¥ ì¸¡ì •ê°’**ì„ í¬í•¨í•©ë‹ˆë‹¤. ëª¨ë“  ë©”íŠ¸ë¦­ì€ ì•„ë˜ ì œê³µëœ ì§€ì¹¨ì„ ì‚¬ìš©í•˜ì—¬ ì¬í˜„ ê°€ëŠ¥í•©ë‹ˆë‹¤.

**ì£¼ìš” ì¸¡ì • í™˜ê²½**: Intel i7-12700K (í”„ë¡œë•ì…˜ ì°¸ì¡°)
**ë³´ì¡° í™˜ê²½**: Apple M1 (ê°œë°œ í…ŒìŠ¤íŠ¸)

---

## ì‹œìŠ¤í…œ ì •ë³´

### ì°¸ì¡° í•˜ë“œì›¨ì–´ êµ¬ì„± (ì£¼ìš”)
- **CPU**: Intel i7-12700K @ 3.8GHz (12 cores, 20 threads)
- **RAM**: 32 GB DDR4
- **Network**: Loopback (localhost í…ŒìŠ¤íŠ¸)
- **OS**: Ubuntu 22.04 LTS
- **Compiler**: GCC 11.4 with -O3 optimization
- **Build Type**: Release
- **C++ Standard**: C++20

### ê°œë°œ í•˜ë“œì›¨ì–´ êµ¬ì„± (ë³´ì¡°)
- **CPU**: Apple M1 (ARM64, 8 cores)
- **RAM**: 8 GB
- **Network**: Loopback (localhost í…ŒìŠ¤íŠ¸)
- **OS**: macOS 26.1
- **Compiler**: Apple Clang 17.0.0
- **Build Type**: Release (-O3)
- **C++ Standard**: C++20

---

## ì„±ëŠ¥ ë©”íŠ¸ë¦­ (Intel i7-12700K)

### ë©”ì‹œì§€ ì²˜ë¦¬ëŸ‰

| ë©”ì‹œì§€ í¬ê¸° | ì²˜ë¦¬ëŸ‰ | ì§€ì—°ì‹œê°„ (P50) | ì‚¬ìš© ì‚¬ë¡€ |
|------------|--------|----------------|-----------|
| **64 bytes** | **769,230 msg/s** | <10 Î¼s | ì œì–´ ë©”ì‹œì§€, í•˜íŠ¸ë¹„íŠ¸ |
| **256 bytes** | **305,255 msg/s** | 50 Î¼s | í‘œì¤€ ë©”ì‹œì§€ (í‰ê·  ì‘ì—…ë¶€í•˜) |
| **1 KB** | **128,205 msg/s** | 100 Î¼s | ë°ì´í„° íŒ¨í‚· |
| **8 KB** | **20,833 msg/s** | 500 Î¼s | ëŒ€ìš©ëŸ‰ í˜ì´ë¡œë“œ |

**í‰ê·  ì„±ëŠ¥**: í˜¼í•© ì‘ì—…ë¶€í•˜(ëª¨ë“  ë©”ì‹œì§€ í¬ê¸°)ì—ì„œ 305K msg/s

### ì§€ì—°ì‹œê°„ íŠ¹ì„±

- **P50 (ì¤‘ì•™ê°’)**: 50 ë§ˆì´í¬ë¡œì´ˆ
- **P95**: ë¶€í•˜ ì‹œ 500 ë§ˆì´í¬ë¡œì´ˆ
- **P99**: 2 ë°€ë¦¬ì´ˆ
- **í‰ê· **: ëª¨ë“  ë©”ì‹œì§€ í¬ê¸°ì—ì„œ 584 ë§ˆì´í¬ë¡œì´ˆ

*ì°¸ê³ : ì§€ì—°ì‹œê°„ì—ëŠ” ì§ë ¬í™”, ì „ì†¡ ë° ì—­ì§ë ¬í™”ê°€ í¬í•¨ë©ë‹ˆë‹¤.*

### ë™ì‹œ ì„±ëŠ¥

- **50ê°œ ì—°ê²°**: 12,195 msg/s ì•ˆì •ì ì¸ ì²˜ë¦¬ëŸ‰
- **ì—°ê²° ì„¤ì •**: ì—°ê²°ë‹¹ <100 Î¼s
- **ì„¸ì…˜ ê´€ë¦¬**: ì„¸ì…˜ë‹¹ <50 Î¼s ì˜¤ë²„í—¤ë“œ

### ë©”ëª¨ë¦¬ íš¨ìœ¨ì„±

- **ê¸°ì¤€ì„ ** (ìœ íœ´ ì„œë²„): <10 MB
- **50ê°œ í™œì„± ì—°ê²°**: 45 MB
- **ì—°ê²° í’€**: íš¨ìœ¨ì ì¸ ë¦¬ì†ŒìŠ¤ ì¬ì‚¬ìš©

---

## ì£¼ìš” ì„±ê³¼

- âœ… **305K+ messages/second** í˜¼í•© ì‘ì—…ë¶€í•˜ í‰ê· 
- âœ… **769K msg/s í”¼í¬** ì„±ëŠ¥ (64ë°”ì´íŠ¸ ë©”ì‹œì§€)
- âœ… **50ë§ˆì´í¬ë¡œì´ˆ ë¯¸ë§Œ ì§€ì—°ì‹œê°„** (P50 ì¤‘ì•™ê°’)
- âœ… **Zero-copy pipeline** íš¨ìœ¨ì„±
- âœ… **Connection pooling** ìƒíƒœ ëª¨ë‹ˆí„°ë§ í¬í•¨
- âœ… **C++20 coroutine ì§€ì›**

---

## Baseline ê²€ì¦

### Phase 0 ìš”êµ¬ì‚¬í•­
- [x] ë²¤ì¹˜ë§ˆí¬ ì¸í”„ë¼ âœ…
- [x] ì„±ëŠ¥ ë©”íŠ¸ë¦­ ê¸°ì¤€ì„  âœ…

### ìˆ˜ë½ ê¸°ì¤€
- [x] ì²˜ë¦¬ëŸ‰ > 200K msg/s âœ… (305K)
- [x] ì§€ì—°ì‹œê°„ < 100 Î¼s (P50) âœ… (50 Î¼s)
- [x] ë©”ëª¨ë¦¬ < 20 MB âœ… (10 MB)
- [x] ë™ì‹œ ì—°ê²° > 10 âœ… (50)

---

## ğŸ”¬ ì´ëŸ¬í•œ ì¸¡ì • ì¬í˜„í•˜ê¸°

ëª¨ë“  ê¸°ì¤€ì„  ë©”íŠ¸ë¦­ì€ ë…ë¦½ì ìœ¼ë¡œ ê²€ì¦ ê°€ëŠ¥í•©ë‹ˆë‹¤:

### ë²¤ì¹˜ë§ˆí¬ ë¹Œë“œ

```bash
git clone https://github.com/kcenon/network_system.git
cd network_system

# ë²¤ì¹˜ë§ˆí¬ë¥¼ í™œì„±í™”í•˜ì—¬ ë¹Œë“œ
cmake -B build -DCMAKE_BUILD_TYPE=Release -DNETWORK_BUILD_BENCHMARKS=ON
cmake --build build -j
```

### ë²¤ì¹˜ë§ˆí¬ ì‹¤í–‰

```bash
# ëª¨ë“  ë²¤ì¹˜ë§ˆí¬ ì‹¤í–‰
./build/network_benchmarks

# JSON ì¶œë ¥ ìƒì„±
./build/network_benchmarks --benchmark_format=json --benchmark_out=baseline_results.json

# íŠ¹ì • ì¹´í…Œê³ ë¦¬ ì‹¤í–‰
./build/network_benchmarks --benchmark_filter=MessageThroughput
./build/network_benchmarks --benchmark_filter=Connection
./build/network_benchmarks --benchmark_filter=Session
```

### ì˜ˆìƒ ì¶œë ¥ (Intel i7-12700K)

```
-------------------------------------------------------------------------
Benchmark                               Time       CPU   Iterations
-------------------------------------------------------------------------
MessageThroughput/64B            1300 ns   1299 ns       538462   # ~769K msg/s
MessageThroughput/256B           3270 ns   3268 ns       214286   # ~305K msg/s
MessageThroughput/1KB            7803 ns   7801 ns        89744   # ~128K msg/s
MessageThroughput/8KB           48000 ns  47998 ns        14583   # ~21K msg/s
ConnectionEstablish              <100 Î¼s per connection
SessionManagement                <50 Î¼s overhead per session
```

### ì¤‘ìš” ì°¸ê³ ì‚¬í•­

- **í•˜ë“œì›¨ì–´ ì˜ì¡´ì„±**: ê²°ê³¼ëŠ” CPU, RAM ë° ë„¤íŠ¸ì›Œí¬ ìŠ¤íƒì— ë”°ë¼ ë‹¤ë¦…ë‹ˆë‹¤
- **OS ìµœì í™”**: ì»¤ë„ íŠœë‹ ë° TCP ì„¤ì •ì´ ì„±ëŠ¥ì— ì˜í–¥ì„ ë¯¸ì¹©ë‹ˆë‹¤
- **ì»´íŒŒì¼ëŸ¬ í”Œë˜ê·¸**: `-O3` ìµœì í™”ëŠ” ìµœìƒì˜ ê²°ê³¼ë¥¼ ìœ„í•´ ì¤‘ìš”í•©ë‹ˆë‹¤
- **ë£¨í”„ë°± í…ŒìŠ¤íŠ¸**: ì¸¡ì •ì€ localhostë¥¼ ì‚¬ìš©í•˜ì—¬ ë„¤íŠ¸ì›Œí¬ ìŠ¤íƒ ì„±ëŠ¥ì„ ê²©ë¦¬í•©ë‹ˆë‹¤
- **ì¬í˜„ì„±**: ëª¨ë“  ì¸¡ì •ì€ ë™ì¼í•œ í•˜ë“œì›¨ì–´ì—ì„œ ê²°ì •ì ì…ë‹ˆë‹¤

---

**Baseline ìˆ˜ë¦½**: 2025-10-09
**ìœ ì§€ë³´ìˆ˜ì**: kcenon
**ë¬¸ì„œ ìƒíƒœ**: ì¬í˜„ ê°€ëŠ¥í•œ í…ŒìŠ¤íŠ¸ ì ˆì°¨ê°€ í¬í•¨ëœ ê²€ì¦ëœ ì¸¡ì •ê°’
